<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¸Šä¼ åˆ†äº« - å¯é æ€§AIåŠ©æ‰‹</title>
    <style>
        /* åŸºç¡€æ ·å¼ - ä¸index.htmlä¸€è‡´ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", SimSun, sans-serif;
            background-color: #f8fafd;
            color: #333;
            line-height: 1.5;
            max-width: 390px;
            margin: 0 auto;
            min-height: 844px;
            position: relative;
            overflow: hidden; /* æ”¹ä¸ºä¸index.htmlä¸€è‡´ */
        }
        
        /* ä¸»å®¹å™¨ - æ·»åŠ ä¸index.htmlä¸€è‡´çš„å¸ƒå±€ */
        .main-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 50px); /* å‡å»åº•éƒ¨å¯¼èˆªæ é«˜åº¦ */
        }
        
        /* ç§‘æŠ€æ„Ÿè£…é¥°å…ƒç´  */
        .tech-decoration {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .tech-dot {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(24, 144, 255, 0.2);
            border-radius: 50%;
        }
        
        /* é¡¶éƒ¨å¯¼èˆªæ  - å±…ä¸­ */
        .navbar {
            height: 44px;
            padding: 0 16px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 1px solid rgba(24, 144, 255, 0.1);
            position: relative;
        }
        
        .navbar-title {
            font-size: 17px;
            font-weight: 600;
            color: #1a3a8f;
        }
        
        .back-btn {
            position: absolute;
            left: 16px;
            font-size: 20px;
            color: #1890ff;
            cursor: pointer;
        }
        
        /* ä¸»å†…å®¹åŒºåŸŸ - ä¿®æ”¹ä¸ºä¸index.htmlä¸€è‡´çš„å¯æ»šåŠ¨å¸ƒå±€ */
        .main-content {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        /* ä¸Šä¼ å¼•å¯¼åŒºåŸŸ */
        .upload-guide {
            background: linear-gradient(135deg, #f6ffed 0%, #f0f9ff 100%);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
            border: 1px solid rgba(82, 196, 26, 0.2);
        }
        
        .guide-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .guide-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: linear-gradient(135deg, #52c41a 0%, #389e0d 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 20px;
            color: white;
        }
        
        .guide-title {
            font-size: 16px;
            font-weight: 600;
            color: #1a3a8f;
        }
        
        .guide-desc {
            font-size: 13px;
            color: #666;
            line-height: 1.5;
            margin-bottom: 16px;
        }
        
        .guide-points {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            padding: 12px;
            font-size: 14px;
            color: #d46b08;
            font-weight: 500;
        }
        
        .points-icon {
            margin-right: 8px;
            font-size: 18px;
        }
        
        /* ä¸Šä¼ è¡¨å•åŒºåŸŸ */
        .upload-form {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #e8e8e8;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        .form-section {
            margin-bottom: 24px;
        }
        
        .section-title {
            font-size: 15px;
            font-weight: 600;
            color: #1a3a8f;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }
        
        .required {
            color: #ff4d4f;
            margin-left: 4px;
        }
        
        /* è¾“å…¥æ¡†æ ·å¼ */
        .form-input {
            width: 100%;
            height: 44px;
            padding: 0 16px;
            font-size: 14px;
            background: #f8fafd;
            border: 2px solid #e8e8e8;
            border-radius: 8px;
            color: #333;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            border-color: #1890ff;
            background: white;
            box-shadow: 0 0 0 3px rgba(24, 144, 255, 0.1);
        }
        
        .form-textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px 16px;
            font-size: 14px;
            background: #f8fafd;
            border: 2px solid #e8e8e8;
            border-radius: 8px;
            color: #333;
            outline: none;
            resize: vertical;
            transition: all 0.3s ease;
        }
        
        .form-textarea:focus {
            border-color: #1890ff;
            background: white;
            box-shadow: 0 0 0 3px rgba(24, 144, 255, 0.1);
        }
        
        /* é€‰æ‹©æ¡†æ ·å¼ */
        .form-select {
            width: 100%;
            height: 44px;
            padding: 0 16px;
            font-size: 14px;
            background: #f8fafd;
            border: 2px solid #e8e8e8;
            border-radius: 8px;
            color: #333;
            outline: none;
            transition: all 0.3s ease;
        }
        
        /* æ ‡ç­¾é€‰æ‹©å™¨ */
        .tag-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }
        
        .tag-option {
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            background: #f8fafd;
            color: #666;
            border: 1px solid #e8e8e8;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .tag-option:hover {
            background: #e6f7ff;
            color: #1890ff;
            border-color: #1890ff;
        }
        
        .tag-option.selected {
            background: #1890ff;
            color: white;
            border-color: #1890ff;
        }
        
        /* æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ */
        .file-upload-area {
            border: 2px dashed #e8e8e8;
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f8fafd;
        }
        
        .file-upload-area:hover {
            border-color: #1890ff;
            background: #e6f7ff;
        }
        
        .upload-icon {
            font-size: 48px;
            color: #1890ff;
            margin-bottom: 16px;
        }
        
        .upload-text {
            font-size: 14px;
            color: #666;
            margin-bottom: 8px;
        }
        
        .upload-hint {
            font-size: 12px;
            color: #999;
        }
        
        /* å·²ä¸Šä¼ æ–‡ä»¶åˆ—è¡¨ */
        .uploaded-files {
            margin-top: 16px;
        }
        
        .file-item {
            display: flex;
            align-items: center;
            background: #f8fafd;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            border: 1px solid #e8e8e8;
        }
        
        .file-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: #e6f7ff;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 20px;
            color: #1890ff;
        }
        
        .file-info {
            flex: 1;
        }
        
        .file-name {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 4px;
            word-break: break-all;
        }
        
        .file-size {
            font-size: 12px;
            color: #999;
        }
        
        .file-remove {
            color: #ff4d4f;
            font-size: 18px;
            cursor: pointer;
            padding: 4px;
        }
        
        /* ç§¯åˆ†è®¾ç½® */
        .points-setting {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .points-input {
            flex: 1;
        }
        
        .points-info {
            font-size: 12px;
            color: #666;
            margin-top: 8px;
        }
        
        .points-example {
            font-size: 11px;
            color: #999;
            margin-top: 4px;
        }
        
        /* æƒé™è®¾ç½® */
        .permission-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 8px;
        }
        
        .permission-option {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .permission-option:hover {
            border-color: #1890ff;
            background: #f0f9ff;
        }
        
        .permission-option.selected {
            border-color: #1890ff;
            background: #e6f7ff;
        }
        
        .permission-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: #f0f9ff;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 16px;
            color: #1890ff;
        }
        
        .permission-info {
            flex: 1;
        }
        
        .permission-title {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 2px;
        }
        
        .permission-desc {
            font-size: 12px;
            color: #999;
        }
        
        /* æäº¤æŒ‰é’®åŒºåŸŸ */
        .submit-section {
            margin-top: 32px;
            padding-top: 20px;
            border-top: 1px solid #f0f0f0;
        }
        
        .submit-btn {
            width: 100%;
            height: 52px;
            background: linear-gradient(135deg, #1890ff 0%, #096dd9 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(24, 144, 255, 0.3);
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(24, 144, 255, 0.4);
        }
        
        .submit-btn:disabled {
            background: #d9d9d9;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }
        
        /* åŠ è½½çŠ¶æ€ */
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #999;
        }
        
        /* åº•éƒ¨å¯¼èˆªæ  - ä¸index.htmlå®Œå…¨ä¸€è‡´ */
        .tab-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 390px;
            margin: 0 auto;
            height: 50px;
            background-color: #ffffff;
            display: flex;
            border-top: 1px solid #e5e5e5;
            z-index: 100;
        }
        
        .tab-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: #999;
            cursor: pointer;
            text-decoration: none;
        }
        
        .tab-item.active {
            color: #1890ff;
        }
        
        .tab-icon {
            width: 24px;
            height: 24px;
            margin-bottom: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px; /* å›¾æ ‡å¤§å° */
        }
        
        /* åº•éƒ¨å¯¼èˆªæ å›¾æ ‡ - ä½¿ç”¨emojiå›¾æ ‡ä¿æŒä¸index.htmlä¸€è‡´æ€§ */
        .home-icon {
            color: #999; /* éæ¿€æ´»çŠ¶æ€é¢œè‰² */
        }
        
        .resources-icon {
            color: #999; /* éæ¿€æ´»çŠ¶æ€é¢œè‰² */
        }
        
        .community-icon {
            color: #1890ff; /* æ¿€æ´»çŠ¶æ€é¢œè‰² - å› ä¸ºè¿™æ˜¯ä»ç¤¾åŒºé¡µé¢è¿›æ¥çš„ */
        }
        
        .profile-icon {
            color: #999; /* éæ¿€æ´»çŠ¶æ€é¢œè‰² */
        }
        
        /* åˆ›å»ºç§‘æŠ€æ„Ÿè£…é¥°å…ƒç´  */
        .tech-decoration {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .tech-dot {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(24, 144, 255, 0.2);
            border-radius: 50%;
        }
        
        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            border-radius: 16px;
            width: 340px;
            max-width: 90%;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .modal-icon {
            font-size: 48px;
            color: #52c41a;
            margin-bottom: 16px;
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #1a3a8f;
            margin-bottom: 12px;
        }
        
        .modal-text {
            font-size: 14px;
            color: #666;
            margin-bottom: 24px;
            line-height: 1.5;
        }
        
        .modal-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #1890ff 0%, #096dd9 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
        }
        
        /* æ»šåŠ¨æ¡æ ·å¼ - ä¸index.htmlä¸€è‡´ */
        .main-content::-webkit-scrollbar {
            width: 4px;
        }
        
        .main-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 2px;
        }
        
        .main-content::-webkit-scrollbar-thumb {
            background: rgba(24, 144, 255, 0.2);
            border-radius: 2px;
        }
        
        .main-content::-webkit-scrollbar-thumb:hover {
            background: rgba(24, 144, 255, 0.3);
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 390px) {
            .main-content {
                padding: 12px;
            }
            
            .upload-form {
                padding: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- ä¸»å®¹å™¨ - æ·»åŠ ä¸index.htmlä¸€è‡´çš„å¸ƒå±€ -->
    <div class="main-container">
        <!-- ç§‘æŠ€æ„Ÿè£…é¥°å…ƒç´  -->
        <div class="tech-decoration" id="techDecoration"></div>
        
        <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
        <div class="navbar">
            <div class="back-btn" onclick="goBack()">â€¹</div>
            <div class="navbar-title">ä¸Šä¼ åˆ†äº«</div>
        </div>
        
        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <div class="main-content">
            <!-- ä¸Šä¼ å¼•å¯¼åŒºåŸŸ -->
            <div class="upload-guide">
                <div class="guide-header">
                    <div class="guide-icon">ğŸ“¤</div>
                    <div class="guide-title">åˆ†äº«æŠ€æœ¯èµ„æ–™ï¼Œè·å¾—ç§¯åˆ†å¥–åŠ±</div>
                </div>
                <div class="guide-desc">
                    ä¸Šä¼ æ ‡å‡†ã€æ‰‹å†Œã€å·¥å…·ç­‰å¯é æ€§ç›¸å…³èµ„æºï¼Œå®¡æ ¸é€šè¿‡åå¯è·å¾—ç§¯åˆ†å¥–åŠ±ã€‚ä¼˜è´¨å†…å®¹å°†è·å¾—é¢å¤–æ¨èå’Œæ›´å¤šä¸‹è½½æ”¶ç›Šã€‚
                </div>
                <div class="guide-points">
                    <span class="points-icon">ğŸ’°</span>
                    <span>ä¸Šä¼ èµ„æºå®¡æ ¸é€šè¿‡å¯è·å¾—50-500ç§¯åˆ†ï¼Œå†…å®¹è¢«ä¸‹è½½è¿˜å¯è·å¾—é¢å¤–æ”¶ç›Š</span>
                </div>
            </div>
            
            <!-- ä¸Šä¼ è¡¨å•åŒºåŸŸ -->
            <div class="upload-form">
                <!-- èµ„æºæ ‡é¢˜ -->
                <div class="form-section">
                    <div class="section-title">
                        èµ„æºæ ‡é¢˜
                        <span class="required">*</span>
                    </div>
                    <input 
                        type="text" 
                        class="form-input" 
                        id="resourceTitle" 
                        placeholder="è¯·è¾“å…¥èµ„æºæ ‡é¢˜ï¼ˆå¦‚ï¼šIPC-A-610Hæ ‡å‡†æ–‡ä»¶ï¼‰"
                        maxlength="100"
                    >
                </div>
                
                <!-- èµ„æºæè¿° -->
                <div class="form-section">
                    <div class="section-title">
                        èµ„æºæè¿°
                        <span class="required">*</span>
                    </div>
                    <textarea 
                        class="form-textarea" 
                        id="resourceDescription" 
                        placeholder="è¯·æè¿°èµ„æºå†…å®¹ã€é€‚ç”¨åœºæ™¯ã€æŠ€æœ¯è¦ç‚¹ç­‰ä¿¡æ¯..."
                        rows="4"
                    ></textarea>
                </div>
                
                <!-- èµ„æºç±»å‹ -->
                <div class="form-section">
                    <div class="section-title">
                        èµ„æºç±»å‹
                        <span class="required">*</span>
                    </div>
                    <select class="form-select" id="resourceType">
                        <option value="" disabled selected>è¯·é€‰æ‹©èµ„æºç±»å‹</option>
                        <option value="standard">æ ‡å‡†è§„èŒƒ</option>
                        <option value="manual">å™¨ä»¶æ‰‹å†Œ</option>
                        <option value="note">åº”ç”¨ç¬”è®°</option>
                        <option value="book">å‚è€ƒä¹¦ç±</option>
                        <option value="tool">è¾…åŠ©å·¥å…·</option>
                        <option value="case">å¤±æ•ˆæ¡ˆä¾‹</option>
                        <option value="method">æµ‹è¯•æ–¹æ³•</option>
                        <option value="guide">è®¾è®¡æŒ‡å—</option>
                        <option value="law">æ³•è§„æ–‡ä»¶</option>
                        <option value="paper">æŠ€æœ¯è®ºæ–‡</option>
                        <option value="training">åŸ¹è®­èµ„æ–™</option>
                        <option value="software">è½¯ä»¶ä¸‹è½½</option>
                        <option value="other">å…¶ä»–èµ„æº</option>
                    </select>
                </div>
                
                <!-- èµ„æºæ ‡ç­¾ -->
                <div class="form-section">
                    <div class="section-title">èµ„æºæ ‡ç­¾</div>
                    <div class="tag-selector" id="tagSelector">
                        <!-- æ ‡ç­¾å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <input 
                        type="text" 
                        class="form-input" 
                        id="customTag" 
                        placeholder="è¾“å…¥è‡ªå®šä¹‰æ ‡ç­¾ï¼ˆæŒ‰å›è½¦æ·»åŠ ï¼‰"
                        style="margin-top: 12px;"
                        onkeydown="addCustomTag(event)"
                    >
                </div>
                
                <!-- æ–‡ä»¶ä¸Šä¼  -->
                <div class="form-section">
                    <div class="section-title">
                        ä¸Šä¼ æ–‡ä»¶
                        <span class="required">*</span>
                    </div>
                    <div class="file-upload-area" id="fileUploadArea" onclick="triggerFileUpload()">
                        <div class="upload-icon">ğŸ“</div>
                        <div class="upload-text">ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤åŒºåŸŸä¸Šä¼ </div>
                        <div class="upload-hint">æ”¯æŒ PDFã€DOCã€XLSã€PPTã€JPGã€PNGã€ZIPã€RAR æ ¼å¼ï¼Œå•ä¸ªæ–‡ä»¶æœ€å¤§100MB</div>
                    </div>
                    <input 
                        type="file" 
                        id="fileInput" 
                        multiple 
                        style="display: none;"
                        onchange="handleFileSelect(event)"
                    >
                    <div class="uploaded-files" id="uploadedFiles">
                        <!-- å·²ä¸Šä¼ æ–‡ä»¶å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
                
                <!-- ç§¯åˆ†è®¾ç½® -->
                <div class="form-section">
                    <div class="section-title">ä¸‹è½½ç§¯åˆ†è®¾ç½®</div>
                    <div class="points-setting">
                        <div class="points-input">
                            <input 
                                type="number" 
                                class="form-input" 
                                id="downloadPoints" 
                                placeholder="0"
                                min="0"
                                max="1000"
                                value="0"
                            >
                        </div>
                        <div>ç§¯åˆ†/æ¬¡ä¸‹è½½</div>
                    </div>
                    <div class="points-info">
                        è®¾ç½®ä¸‹è½½æ‰€éœ€ç§¯åˆ†ï¼Œå…¶ä»–ç”¨æˆ·ä¸‹è½½æ—¶æ‚¨å°†è·å¾—ç›¸åº”ç§¯åˆ†ã€‚è®¾ä¸º0è¡¨ç¤ºå…è´¹åˆ†äº«ã€‚
                    </div>
                    <div class="points-example">
                        ç¤ºä¾‹ï¼šæ ‡å‡†æ–‡æ¡£é€šå¸¸è®¾ç½®10-50ç§¯åˆ†ï¼Œå·¥å…·è½¯ä»¶å¯è®¾ç½®50-200ç§¯åˆ†
                    </div>
                </div>
                
                <!-- æƒé™è®¾ç½® -->
                <div class="form-section">
                    <div class="section-title">è®¿é—®æƒé™</div>
                    <div class="permission-options">
                        <div class="permission-option" onclick="selectPermission(this, 'public')">
                            <div class="permission-icon">ğŸŒ</div>
                            <div class="permission-info">
                                <div class="permission-title">å…¬å¼€è®¿é—®</div>
                                <div class="permission-desc">æ‰€æœ‰æ³¨å†Œç”¨æˆ·å‡å¯æŸ¥çœ‹å’Œä¸‹è½½</div>
                            </div>
                        </div>
                        <div class="permission-option" onclick="selectPermission(this, 'community')">
                            <div class="permission-icon">ğŸ‘¥</div>
                            <div class="permission-info">
                                <div class="permission-title">ç¤¾åŒºæˆå‘˜</div>
                                <div class="permission-desc">ä»…ç¤¾åŒºè®¤è¯æˆå‘˜å¯æŸ¥çœ‹å’Œä¸‹è½½</div>
                            </div>
                        </div>
                        <div class="permission-option" onclick="selectPermission(this, 'premium')">
                            <div class="permission-icon">â­</div>
                            <div class="permission-info">
                                <div class="permission-title">é«˜çº§ç”¨æˆ·</div>
                                <div class="permission-desc">ä»…é«˜çº§ä¼šå‘˜å’Œä¸“å®¶å¯æŸ¥çœ‹å’Œä¸‹è½½</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- æäº¤æŒ‰é’®åŒºåŸŸ -->
                <div class="submit-section">
                    <button class="submit-btn" id="submitBtn" onclick="submitResource()">æäº¤èµ„æº</button>
                </div>
            </div>
            
            <!-- åŠ è½½çŠ¶æ€ -->
            <div class="loading" id="loading">
                ä¸Šä¼ ä¸­ï¼Œè¯·ç¨å€™...
            </div>
        </div>
    </div>
    
    <!-- åº•éƒ¨å¯¼èˆªæ  - ä¿®æ”¹ä¸ºä¸index.htmlå®Œå…¨ä¸€è‡´ -->
    <div class="tab-bar">
        <div class="tab-item" onclick="goToIndex()">
            <div class="tab-icon home-icon">ğŸ </div>
            <div>é¦–é¡µ</div>
        </div>
        <div class="tab-item" onclick="goToResources()">
            <div class="tab-icon resources-icon">ğŸ“š</div>
            <div>èµ„æº</div>
        </div>
        <div class="tab-item active">
            <div class="tab-icon community-icon">ğŸ‘¥</div>
            <div>ç¤¾åŒº</div>
        </div>
        <div class="tab-item" onclick="goToProfile()">
            <div class="tab-icon profile-icon">ğŸ‘¤</div>
            <div>æˆ‘çš„</div>
        </div>
    </div>
    
    <!-- ä¸Šä¼ æˆåŠŸæ¨¡æ€æ¡† -->
    <div class="modal-overlay" id="successModal">
        <div class="modal-content">
            <div class="modal-icon">âœ…</div>
            <div class="modal-title">èµ„æºä¸Šä¼ æˆåŠŸï¼</div>
            <div class="modal-text">
                æ‚¨çš„èµ„æºå·²æäº¤å®¡æ ¸ï¼Œå®¡æ ¸é€šè¿‡åå°†è·å¾—50ç§¯åˆ†å¥–åŠ±ã€‚<br>
                å®¡æ ¸é€šå¸¸éœ€è¦1-3ä¸ªå·¥ä½œæ—¥ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚
            </div>
            <button class="modal-btn" onclick="closeSuccessModal()">ç¡®å®š</button>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let selectedFiles = [];
        let selectedTags = [];
        let selectedPermission = 'public';
        let resourceType = '';
        let tagOptions = [];
        
        // åˆ›å»ºç§‘æŠ€æ„Ÿè£…é¥°å…ƒç´ 
        function createTechDecoration() {
            const decoration = document.getElementById('techDecoration');
            const dotsCount = 30;
            
            for (let i = 0; i < dotsCount; i++) {
                const dot = document.createElement('div');
                dot.className = 'tech-dot';
                
                // éšæœºä½ç½®
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                const size = 2 + Math.random() * 4;
                const opacity = 0.1 + Math.random() * 0.2;
                
                dot.style.left = `${left}%`;
                dot.style.top = `${top}%`;
                dot.style.width = `${size}px`;
                dot.style.height = `${size}px`;
                dot.style.opacity = opacity;
                dot.style.background = `rgba(${24 + Math.random() * 100}, ${144 + Math.random() * 50}, 255, ${opacity})`;
                
                decoration.appendChild(dot);
            }
        }
        
        // é¡µé¢è·³è½¬å‡½æ•°
        function goBack() {
            window.history.back();
        }
        
        function goToIndex() {
            window.location.href = "index.html";
        }
        
        function goToResources() {
            window.location.href = "knowledge.html";
        }
        
        function goToCommunity() {
            window.location.href = "community.html";
        }
        
        function goToProfile() {
            window.location.href = "profile.html";
        }
        
        // åˆå§‹åŒ–æ ‡ç­¾é€‰é¡¹
        function initTagOptions() {
            tagOptions = [
                "PCBè®¾è®¡", "çƒ­ç®¡ç†", "å¤±æ•ˆåˆ†æ", "ç¯å¢ƒè¯•éªŒ", 
                "å…ƒå™¨ä»¶", "æ ‡å‡†è§„èŒƒ", "FMEA", "ä¿¡å·å®Œæ•´æ€§",
                "ç”µæºè®¾è®¡", "EMC/EMI", "æŒ¯åŠ¨åˆ†æ", "å¯é æ€§é¢„æµ‹",
                "æ–°æ‰‹å¿…å¤‡", "ç»éªŒåˆ†äº«", "æ¡ˆä¾‹åˆ†æ", "æŠ€æœ¯è®¨è®º",
                "IPCæ ‡å‡†", "JEDECæ ‡å‡†", "MILæ ‡å‡†", "ISOæ ‡å‡†"
            ];
            
            const container = document.getElementById('tagSelector');
            container.innerHTML = '';
            
            tagOptions.forEach(tag => {
                const tagEl = document.createElement('div');
                tagEl.className = 'tag-option';
                tagEl.textContent = tag;
                tagEl.onclick = () => toggleTagSelection(tagEl, tag);
                container.appendChild(tagEl);
            });
        }
        
        // åˆ‡æ¢æ ‡ç­¾é€‰æ‹©
        function toggleTagSelection(element, tag) {
            if (element.classList.contains('selected')) {
                element.classList.remove('selected');
                selectedTags = selectedTags.filter(t => t !== tag);
            } else {
                // é™åˆ¶æœ€å¤šé€‰æ‹©5ä¸ªæ ‡ç­¾
                if (selectedTags.length >= 5) {
                    alert('æœ€å¤šåªèƒ½é€‰æ‹©5ä¸ªæ ‡ç­¾');
                    return;
                }
                element.classList.add('selected');
                selectedTags.push(tag);
            }
        }
        
        // æ·»åŠ è‡ªå®šä¹‰æ ‡ç­¾
        function addCustomTag(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                const input = document.getElementById('customTag');
                const tag = input.value.trim();
                
                if (!tag) return;
                
                // æ£€æŸ¥æ ‡ç­¾æ˜¯å¦å·²å­˜åœ¨
                if (selectedTags.includes(tag) || tagOptions.includes(tag)) {
                    alert('è¯¥æ ‡ç­¾å·²å­˜åœ¨');
                    input.value = '';
                    return;
                }
                
                // é™åˆ¶æœ€å¤šé€‰æ‹©5ä¸ªæ ‡ç­¾
                if (selectedTags.length >= 5) {
                    alert('æœ€å¤šåªèƒ½é€‰æ‹©5ä¸ªæ ‡ç­¾');
                    return;
                }
                
                // æ·»åŠ æ ‡ç­¾åˆ°é€‰æ‹©å™¨
                const container = document.getElementById('tagSelector');
                const tagEl = document.createElement('div');
                tagEl.className = 'tag-option selected';
                tagEl.textContent = tag;
                tagEl.onclick = () => toggleTagSelection(tagEl, tag);
                container.appendChild(tagEl);
                
                // æ·»åŠ åˆ°å·²é€‰æ ‡ç­¾
                selectedTags.push(tag);
                
                // æ¸…ç©ºè¾“å…¥æ¡†
                input.value = '';
            }
        }
        
        // è§¦å‘æ–‡ä»¶ä¸Šä¼ 
        function triggerFileUpload() {
            document.getElementById('fileInput').click();
        }
        
        // å¤„ç†æ–‡ä»¶é€‰æ‹©
        function handleFileSelect(event) {
            const files = event.target.files;
            
            if (files.length > 0) {
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    
                    // æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆæœ€å¤§100MBï¼‰
                    if (file.size > 100 * 1024 * 1024) {
                        alert(`æ–‡ä»¶ "${file.name}" è¶…è¿‡100MBé™åˆ¶ï¼Œè¯·å‹ç¼©åä¸Šä¼ `);
                        continue;
                    }
                    
                    // æ£€æŸ¥æ–‡ä»¶ç±»å‹
                    const allowedTypes = [
                        'application/pdf',
                        'application/msword',
                        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
                        'application/vnd.ms-excel',
                        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
                        'application/vnd.ms-powerpoint',
                        'application/vnd.openxmlformats-officedocument.presentationml.presentation',
                        'image/jpeg',
                        'image/png',
                        'application/zip',
                        'application/x-rar-compressed'
                    ];
                    
                    if (!allowedTypes.includes(file.type) && !file.name.match(/\.(pdf|doc|docx|xls|xlsx|ppt|pptx|jpg|jpeg|png|zip|rar)$/i)) {
                        alert(`æ–‡ä»¶ "${file.name}" æ ¼å¼ä¸æ”¯æŒï¼Œè¯·ä¸Šä¼ PDFã€DOCã€XLSã€PPTã€JPGã€PNGã€ZIPã€RARæ ¼å¼æ–‡ä»¶`);
                        continue;
                    }
                    
                    // æ·»åŠ åˆ°å·²é€‰æ‹©æ–‡ä»¶åˆ—è¡¨
                    addSelectedFile(file);
                }
            }
        }
        
        // æ·»åŠ å·²é€‰æ‹©æ–‡ä»¶
        function addSelectedFile(file) {
            const fileId = Date.now() + Math.random();
            const fileItem = {
                id: fileId,
                name: file.name,
                size: formatFileSize(file.size),
                type: getFileType(file.name),
                file: file
            };
            
            selectedFiles.push(fileItem);
            updateUploadedFilesDisplay();
        }
        
        // æ ¼å¼åŒ–æ–‡ä»¶å¤§å°
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 B';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
        }
        
        // è·å–æ–‡ä»¶ç±»å‹
        function getFileType(fileName) {
            const ext = fileName.split('.').pop().toLowerCase();
            const typeMap = {
                'pdf': 'PDFæ–‡æ¡£',
                'doc': 'Wordæ–‡æ¡£',
                'docx': 'Wordæ–‡æ¡£',
                'xls': 'Excelè¡¨æ ¼',
                'xlsx': 'Excelè¡¨æ ¼',
                'ppt': 'PPTæ¼”ç¤º',
                'pptx': 'PPTæ¼”ç¤º',
                'jpg': 'å›¾ç‰‡',
                'jpeg': 'å›¾ç‰‡',
                'png': 'å›¾ç‰‡',
                'zip': 'å‹ç¼©æ–‡ä»¶',
                'rar': 'å‹ç¼©æ–‡ä»¶'
            };
            
            return typeMap[ext] || 'æœªçŸ¥æ–‡ä»¶';
        }
        
        // æ›´æ–°å·²ä¸Šä¼ æ–‡ä»¶æ˜¾ç¤º
        function updateUploadedFilesDisplay() {
            const container = document.getElementById('uploadedFiles');
            container.innerHTML = '';
            
            if (selectedFiles.length === 0) {
                container.style.display = 'none';
                return;
            }
            
            container.style.display = 'block';
            
            selectedFiles.forEach(file => {
                const fileEl = document.createElement('div');
                fileEl.className = 'file-item';
                fileEl.innerHTML = `
                    <div class="file-icon">${getFileIcon(file.type)}</div>
                    <div class="file-info">
                        <div class="file-name">${file.name}</div>
                        <div class="file-size">${file.size} â€¢ ${file.type}</div>
                    </div>
                    <div class="file-remove" onclick="removeFile(${file.id})">Ã—</div>
                `;
                container.appendChild(fileEl);
            });
        }
        
        // è·å–æ–‡ä»¶å›¾æ ‡
        function getFileIcon(fileType) {
            const iconMap = {
                'PDFæ–‡æ¡£': 'ğŸ“„',
                'Wordæ–‡æ¡£': 'ğŸ“',
                'Excelè¡¨æ ¼': 'ğŸ“Š',
                'PPTæ¼”ç¤º': 'ğŸ“½ï¸',
                'å›¾ç‰‡': 'ğŸ–¼ï¸',
                'å‹ç¼©æ–‡ä»¶': 'ğŸ—œï¸'
            };
            
            return iconMap[fileType] || 'ğŸ“';
        }
        
        // ç§»é™¤æ–‡ä»¶
        function removeFile(fileId) {
            selectedFiles = selectedFiles.filter(file => file.id !== fileId);
            updateUploadedFilesDisplay();
        }
        
        // é€‰æ‹©æƒé™ - ä¿®æ­£å‚æ•°ä¼ é€’
        function selectPermission(element, permission) {
            selectedPermission = permission;
            
            // æ›´æ–°UI
            document.querySelectorAll('.permission-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            element.classList.add('selected');
        }
        
        // æäº¤èµ„æº
        function submitResource() {
            const title = document.getElementById('resourceTitle').value.trim();
            const description = document.getElementById('resourceDescription').value.trim();
            const type = document.getElementById('resourceType').value;
            const points = parseInt(document.getElementById('downloadPoints').value);
            
            // éªŒè¯å¿…å¡«é¡¹
            if (!title) {
                alert('è¯·å¡«å†™èµ„æºæ ‡é¢˜');
                return;
            }
            
            if (!description) {
                alert('è¯·å¡«å†™èµ„æºæè¿°');
                return;
            }
            
            if (!type) {
                alert('è¯·é€‰æ‹©èµ„æºç±»å‹');
                return;
            }
            
            if (selectedFiles.length === 0) {
                alert('è¯·è‡³å°‘ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶');
                return;
            }
            
            // éªŒè¯ç§¯åˆ†èŒƒå›´
            if (points < 0 || points > 1000) {
                alert('ä¸‹è½½ç§¯åˆ†å¿…é¡»åœ¨0-1000ä¹‹é—´');
                return;
            }
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            document.getElementById('loading').style.display = 'block';
            document.getElementById('submitBtn').disabled = true;
            
            // æ¨¡æ‹Ÿä¸Šä¼ è¿‡ç¨‹
            setTimeout(() => {
                // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨å¹¶æäº¤è¡¨å•æ•°æ®
                
                // æ˜¾ç¤ºæˆåŠŸæ¨¡æ€æ¡†
                document.getElementById('successModal').style.display = 'flex';
                
                // éšè—åŠ è½½çŠ¶æ€
                document.getElementById('loading').style.display = 'none';
                document.getElementById('submitBtn').disabled = false;
                
                // æ¸…ç©ºè¡¨å•
                resetForm();
                
                // è®°å½•ä¸Šä¼ å†å²
                saveUploadHistory(title, type, points);
            }, 2000);
        }
        
        // é‡ç½®è¡¨å•
        function resetForm() {
            document.getElementById('resourceTitle').value = '';
            document.getElementById('resourceDescription').value = '';
            document.getElementById('resourceType').value = '';
            document.getElementById('downloadPoints').value = '0';
            
            // æ¸…ç©ºæ ‡ç­¾é€‰æ‹©
            selectedTags = [];
            document.querySelectorAll('.tag-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // æ¸…ç©ºè‡ªå®šä¹‰æ ‡ç­¾è¾“å…¥
            document.getElementById('customTag').value = '';
            
            // æ¸…ç©ºæ–‡ä»¶é€‰æ‹©
            selectedFiles = [];
            updateUploadedFilesDisplay();
            
            // é‡ç½®æƒé™é€‰æ‹©
            selectedPermission = 'public';
            document.querySelectorAll('.permission-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelectorAll('.permission-option')[0].classList.add('selected');
        }
        
        // ä¿å­˜ä¸Šä¼ å†å²
        function saveUploadHistory(title, type, points) {
            // ä»æœ¬åœ°å­˜å‚¨è·å–ä¸Šä¼ å†å²
            let uploadHistory = JSON.parse(localStorage.getItem('uploadHistory') || '[]');
            
            // æ·»åŠ ä¸Šä¼ è®°å½•
            const uploadRecord = {
                id: Date.now(),
                title: title,
                type: type,
                points: points,
                tags: selectedTags,
                date: new Date().toISOString(),
                status: 'pending' // pending, approved, rejected
            };
            
            uploadHistory.unshift(uploadRecord);
            
            // é™åˆ¶æœ€å¤šä¿å­˜50æ¡è®°å½•
            if (uploadHistory.length > 50) {
                uploadHistory = uploadHistory.slice(0, 50);
            }
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('uploadHistory', JSON.stringify(uploadHistory));
        }
        
        // å…³é—­æˆåŠŸæ¨¡æ€æ¡†
        function closeSuccessModal() {
            document.getElementById('successModal').style.display = 'none';
            
            // è¿”å›ç¤¾åŒºé¡µé¢
            goToCommunity();
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = function() {
            // åˆ›å»ºç§‘æŠ€æ„Ÿè£…é¥°å…ƒç´ 
            createTechDecoration();
            
            // åˆå§‹åŒ–æ ‡ç­¾é€‰é¡¹
            initTagOptions();
            
            // è®¾ç½®é»˜è®¤æƒé™é€‰æ‹©
            document.querySelectorAll('.permission-option')[0].classList.add('selected');
            
            // åˆå§‹åŒ–æ‹–æ”¾ä¸Šä¼ 
            initDragAndDrop();
            
            // ç›‘å¬èµ„æºç±»å‹å˜åŒ–
            document.getElementById('resourceType').addEventListener('change', function() {
                resourceType = this.value;
                updateTagSuggestions();
            });
        };
        
        // åˆå§‹åŒ–æ‹–æ”¾ä¸Šä¼ 
        function initDragAndDrop() {
            const uploadArea = document.getElementById('fileUploadArea');
            
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.borderColor = '#1890ff';
                this.style.background = '#e6f7ff';
            });
            
            uploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.style.borderColor = '#e8e8e8';
                this.style.background = '#f8fafd';
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.borderColor = '#e8e8e8';
                this.style.background = '#f8fafd';
                
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    // åˆ›å»ºæ¨¡æ‹Ÿäº‹ä»¶å¯¹è±¡
                    const event = {
                        target: {
                            files: files
                        }
                    };
                    handleFileSelect(event);
                }
            });
        }
        
        // æ ¹æ®èµ„æºç±»å‹æ›´æ–°æ ‡ç­¾å»ºè®®
        function updateTagSuggestions() {
            const tagSuggestions = {
                'standard': ['æ ‡å‡†è§„èŒƒ', 'IPCæ ‡å‡†', 'JEDECæ ‡å‡†', 'MILæ ‡å‡†', 'ISOæ ‡å‡†'],
                'manual': ['å…ƒå™¨ä»¶', 'å™¨ä»¶æ‰‹å†Œ', 'æ•°æ®æ‰‹å†Œ', 'è§„æ ¼ä¹¦'],
                'note': ['åº”ç”¨ç¬”è®°', 'è®¾è®¡å‚è€ƒ', 'æŠ€æœ¯æŒ‡å—'],
                'tool': ['è¾…åŠ©å·¥å…·', 'è®¡ç®—å·¥å…·', 'è®¾è®¡å·¥å…·', 'è½¯ä»¶'],
                'case': ['å¤±æ•ˆæ¡ˆä¾‹', 'æ¡ˆä¾‹åˆ†æ', 'æ•…éšœè¯Šæ–­'],
                'method': ['æµ‹è¯•æ–¹æ³•', 'å¯é æ€§æµ‹è¯•', 'ç¯å¢ƒè¯•éªŒ']
            };
            
            // æ¸…é™¤å½“å‰é€‰æ‹©çš„æ ‡ç­¾
            selectedTags = [];
            document.querySelectorAll('.tag-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // å¦‚æœæœ‰è¯¥ç±»å‹çš„æ ‡ç­¾å»ºè®®ï¼Œè‡ªåŠ¨é€‰ä¸­å‰å‡ ä¸ª
            if (tagSuggestions[resourceType]) {
                const suggestions = tagSuggestions[resourceType];
                
                suggestions.forEach(tag => {
                    // æ‰¾åˆ°å¯¹åº”çš„æ ‡ç­¾å…ƒç´ 
                    const tagElements = document.querySelectorAll('.tag-option');
                    tagElements.forEach(element => {
                        if (element.textContent === tag && selectedTags.length < 3) {
                            element.classList.add('selected');
                            selectedTags.push(tag);
                        }
                    });
                });
            }
        }
    </script>
</body>
</html>