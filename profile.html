<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¸ªäººä¸­å¿ƒ - å¯é æ€§AIåŠ©æ‰‹</title>
    <style>
        /* åŸºç¡€æ ·å¼ - ä¸index.htmlå®Œå…¨ä¸€è‡´ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", SimSun, sans-serif;
            background-color: #f8fafd;
            color: #333;
            line-height: 1.5;
            max-width: 390px;
            margin: 0 auto;
            min-height: 844px;
            position: relative;
            overflow: hidden; /* ä¸index.htmlä¿æŒä¸€è‡´ï¼Œä¸æ˜¯overflow-x: hidden */
        }
        
        /* ç§‘æŠ€æ„Ÿè£…é¥°å…ƒç´  */
        .tech-decoration {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .tech-dot {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(24, 144, 255, 0.2);
            border-radius: 50%;
        }
        
        /* é¡¶éƒ¨å¯¼èˆªæ  - ä¸index.htmlå®Œå…¨ä¸€è‡´ */
        .navbar {
            height: 44px;
            padding: 0 16px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 1px solid rgba(24, 144, 255, 0.1);
            position: relative;
        }
        
        .navbar-title {
            font-size: 17px;
            font-weight: 600;
            color: #1a3a8f;
        }
        

        
        /* ä¸»å®¹å™¨ - ä¸index.htmlä¿æŒä¸€è‡´çš„ç»“æ„ */
        .main-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 50px); /* å‡å»åº•éƒ¨å¯¼èˆªæ é«˜åº¦ */
            overflow: hidden; /* ç¡®ä¿å†…å®¹ä¸ä¼šæº¢å‡º */
        }
        
        /* ä¸»å†…å®¹åŒºåŸŸ - è°ƒæ•´é«˜åº¦å’Œæ»šåŠ¨ */
        .main-content {
            flex: 1;
            overflow-y: auto; /* å…è®¸å‚ç›´æ»šåŠ¨ */
            -webkit-overflow-scrolling: touch; /* iOSå¹³æ»‘æ»šåŠ¨ */
            padding-bottom: 0; /* ç§»é™¤åŸæœ‰çš„padding-bottomï¼Œç”±å®¹å™¨æ§åˆ¶ */
        }
        
        /* æ»šåŠ¨æ¡æ ·å¼ - ä¸index.htmlä¿æŒä¸€è‡´ */
        .main-content::-webkit-scrollbar {
            width: 4px;
        }
        
        .main-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 2px;
        }
        
        .main-content::-webkit-scrollbar-thumb {
            background: rgba(24, 144, 255, 0.2);
            border-radius: 2px;
        }
        
        .main-content::-webkit-scrollbar-thumb:hover {
            background: rgba(24, 144, 255, 0.3);
        }
        
        /* ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ */
        .user-info-card {
            background: linear-gradient(135deg, #1890ff 0%, #096dd9 100%);
            padding: 24px 20px;
            color: white;
            position: relative;
        }
        
        .user-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .user-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 600;
            margin-right: 16px;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }
        
        .user-basic-info {
            flex: 1;
        }
        
        .user-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .user-id {
            font-size: 12px;
            opacity: 0.9;
        }
        
        .edit-profile-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 6px;
            padding: 6px 12px;
            font-size: 12px;
            color: white;
            cursor: pointer;
        }
        
        /* ç­‰çº§å’Œç§¯åˆ†ä¿¡æ¯ */
        .level-points-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .level-info {
            flex: 1;
        }
        
        .level-label {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 6px;
        }
        
        .level-value {
            font-size: 16px;
            font-weight: 600;
        }
        
        .points-info {
            flex: 1;
            text-align: right;
        }
        
        .points-label {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 6px;
        }
        
        .points-value {
            font-size: 16px;
            font-weight: 600;
        }
        
        /* ä»Šæ—¥æ”¶æ”¯ä¿¡æ¯ */
        .daily-stats {
            display: flex;
            justify-content: space-between;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 20px;
        }
        
        .daily-stat {
            text-align: center;
            flex: 1;
        }
        
        .daily-stat-label {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 6px;
        }
        
        .daily-stat-value {
            font-size: 14px;
            font-weight: 600;
        }
        
        .daily-income {
            color: #b7eb8f;
        }
        
        .daily-expense {
            color: #ff7875;
        }
        
        /* ç­‰çº§è¿›åº¦æ¡ */
        .level-progress {
            margin-bottom: 20px;
        }
        
        .level-progress-header {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            margin-bottom: 8px;
        }
        
        .level-progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .level-progress-fill {
            height: 100%;
            background: #ffd666;
            border-radius: 4px;
            width: 65%;
            transition: width 0.5s ease;
        }
        
        .level-up-tip {
            font-size: 11px;
            opacity: 0.8;
            text-align: center;
            margin-top: 8px;
        }
        
        /* å®åè®¤è¯çŠ¶æ€ */
        .realname-status {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .realname-text {
            font-size: 14px;
        }
        
        .realname-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            background: #52c41a;
        }
        
        .realname-unverified {
            background: #ffa940;
        }
        
        /* åŠŸèƒ½èœå•åŒºåŸŸ */
        .menu-section {
            padding: 0 16px;
            padding-bottom: 16px; /* æ·»åŠ åº•éƒ¨paddingï¼Œç¡®ä¿å†…å®¹ä¸è¢«åº•éƒ¨å¯¼èˆªæ é®æŒ¡ */
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin: 20px 0;
        }
        
        .menu-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }
        
        .menu-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: #1890ff;
            margin-bottom: 8px;
            box-shadow: 0 2px 8px rgba(24, 144, 255, 0.1);
            border: 1px solid rgba(24, 144, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .menu-item:hover .menu-icon {
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(24, 144, 255, 0.2);
        }
        
        .menu-text {
            font-size: 12px;
            color: #666;
            text-align: center;
        }
        
        /* åŠŸèƒ½åˆ—è¡¨ */
        .function-list {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 20px;
            border: 1px solid #e8e8e8;
        }
        
        .function-item {
            padding: 16px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: background 0.2s ease;
        }
        
        .function-item:last-child {
            border-bottom: none;
        }
        
        .function-item:hover {
            background: #f8fafd;
        }
        
        .function-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: #f0f9ff;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 18px;
            color: #1890ff;
        }
        
        .function-info {
            flex: 1;
        }
        
        .function-title {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 4px;
        }
        
        .function-desc {
            font-size: 12px;
            color: #999;
        }
        
        .function-arrow {
            color: #999;
            font-size: 14px;
        }
        
        /* ä¸“å®¶é¢æ¿ */
        .expert-panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e8e8e8;
        }
        
        .expert-panel-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .expert-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: linear-gradient(135deg, #ffa940 0%, #d46b08 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 18px;
            color: white;
        }
        
        .expert-panel-title {
            font-size: 16px;
            font-weight: 600;
            color: #1a3a8f;
            flex: 1;
        }
        
        .expert-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            background: #ffa940;
            color: white;
        }
        
        .expert-info {
            font-size: 13px;
            color: #666;
            line-height: 1.5;
            margin-bottom: 16px;
        }
        
        .expert-actions {
            display: flex;
            gap: 12px;
        }
        
        .expert-btn {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }
        
        .expert-btn.apply {
            background: linear-gradient(135deg, #1890ff 0%, #096dd9 100%);
            color: white;
        }
        
        .expert-btn.apply:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(24, 144, 255, 0.3);
        }
        
        .expert-btn.settings {
            background: #f5f5f5;
            color: #666;
        }
        
        .expert-btn.settings:hover {
            background: #e8e8e8;
        }
        
        /* åé¦ˆé¢æ¿ */
        .feedback-panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e8e8e8;
        }
        
        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .feedback-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: linear-gradient(135deg, #52c41a 0%, #389e0d 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 18px;
            color: white;
        }
        
        .feedback-title {
            font-size: 16px;
            font-weight: 600;
            color: #1a3a8f;
        }
        
        .feedback-desc {
            font-size: 13px;
            color: #666;
            line-height: 1.5;
            margin-bottom: 16px;
        }
        
        .feedback-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #52c41a 0%, #389e0d 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .feedback-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(82, 196, 26, 0.3);
        }
        
        /* åº•éƒ¨å¯¼èˆªæ  - ä¸index.htmlå®Œå…¨ä¸€è‡´ */
        .tab-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 390px;
            margin: 0 auto;
            height: 50px;
            background-color: #ffffff;
            display: flex;
            border-top: 1px solid #e5e5e5;
            z-index: 100;
        }
        
        .tab-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: #999;
            cursor: pointer;
            text-decoration: none;
        }
        
        .tab-item.active {
            color: #1890ff;
        }
        
        .tab-icon {
            width: 24px;
            height: 24px;
            margin-bottom: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px; /* å›¾æ ‡å¤§å° */
        }
        
        /* åº•éƒ¨å¯¼èˆªæ å›¾æ ‡ - ä½¿ç”¨emojiå›¾æ ‡ä¿æŒä¸€è‡´æ€§ */
        .home-icon {
            color: #999; /* éæ¿€æ´»çŠ¶æ€é¢œè‰² */
        }
        
        .resources-icon {
            color: #999; /* éæ¿€æ´»çŠ¶æ€é¢œè‰² */
        }
        
        .community-icon {
            color: #999; /* éæ¿€æ´»çŠ¶æ€é¢œè‰² */
        }
        
        .profile-icon {
            color: #1890ff; /* æ¿€æ´»çŠ¶æ€é¢œè‰² */
        }
        
        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            border-radius: 16px;
            width: 340px;
            max-width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #1a3a8f;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .modal-input-group {
            margin-bottom: 16px;
        }
        
        .modal-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 8px;
        }
        
        .modal-input {
            width: 100%;
            height: 44px;
            padding: 0 16px;
            font-size: 14px;
            background: #f8fafd;
            border: 2px solid #e8e8e8;
            border-radius: 8px;
            color: #333;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .modal-input:focus {
            border-color: #1890ff;
            background: white;
            box-shadow: 0 0 0 3px rgba(24, 144, 255, 0.1);
        }
        
        .modal-select {
            width: 100%;
            height: 44px;
            padding: 0 16px;
            font-size: 14px;
            background: #f8fafd;
            border: 2px solid #e8e8e8;
            border-radius: 8px;
            color: #333;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .modal-textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px 16px;
            font-size: 14px;
            background: #f8fafd;
            border: 2px solid #e8e8e8;
            border-radius: 8px;
            color: #333;
            outline: none;
            resize: vertical;
            transition: all 0.3s ease;
        }
        
        .modal-textarea:focus {
            border-color: #1890ff;
            background: white;
            box-shadow: 0 0 0 3px rgba(24, 144, 255, 0.1);
        }
        
        .modal-actions {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }
        
        .modal-btn {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }
        
        .modal-btn.cancel {
            background: #f5f5f5;
            color: #666;
        }
        
        .modal-btn.cancel:hover {
            background: #e8e8e8;
        }
        
        .modal-btn.submit {
            background: linear-gradient(135deg, #1890ff 0%, #096dd9 100%);
            color: white;
        }
        
        .modal-btn.submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(24, 144, 255, 0.3);
        }
        
        /* ç§¯åˆ†å……å€¼é€‰é¡¹ */
        .points-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .points-option {
            border: 2px solid #e8e8e8;
            border-radius: 8px;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .points-option:hover {
            border-color: #1890ff;
            background: #f0f9ff;
        }
        
        .points-option.selected {
            border-color: #1890ff;
            background: #e6f7ff;
        }
        
        .points-amount {
            font-size: 18px;
            font-weight: 600;
            color: #1890ff;
            margin-bottom: 4px;
        }
        
        .points-price {
            font-size: 14px;
            color: #666;
        }
        
        .points-bonus {
            font-size: 12px;
            color: #52c41a;
            margin-top: 4px;
        }
        
        /* äº¤æ˜“è®°å½•æ ·å¼ */
        .transaction-item {
            padding: 12px 16px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
        }
        
        .transaction-item:last-child {
            border-bottom: none;
        }
        
        .transaction-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 16px;
            color: white;
        }
        
        .transaction-income .transaction-icon {
            background: linear-gradient(135deg, #d9f7be 0%, #b7eb8f 100%);
            color: #389e0d;
        }
        
        .transaction-expense .transaction-icon {
            background: linear-gradient(135deg, #ffccc7 0%, #ffa39e 100%);
            color: #cf1322;
        }
        
        .transaction-info {
            flex: 1;
        }
        
        .transaction-title {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 4px;
        }
        
        .transaction-time {
            font-size: 12px;
            color: #999;
        }
        
        .transaction-amount {
            font-size: 14px;
            font-weight: 600;
        }
        
        .transaction-income .transaction-amount {
            color: #52c41a;
        }
        
        .transaction-expense .transaction-amount {
            color: #ff4d4f;
        }
        
        /* åŠ è½½çŠ¶æ€ */
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #999;
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 390px) {
            .menu-grid {
                gap: 12px;
            }
            
            .menu-icon {
                width: 40px;
                height: 40px;
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <!-- ç§‘æŠ€æ„Ÿè£…é¥°å…ƒç´  -->
    <div class="tech-decoration" id="techDecoration"></div>
    
    <!-- ä¸index.htmlä¸€è‡´çš„ä¸»å®¹å™¨ç»“æ„ -->
    <div class="main-container">
        <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
        <div class="navbar">
            <div class="navbar-title">ä¸ªäººä¸­å¿ƒ</div>
        </div>
        
        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <div class="main-content">
            <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
            <div class="user-info-card">
                <div class="user-header">
                    <div class="user-avatar" id="userAvatar">å¼ </div>
                    <div class="user-basic-info">
                        <div class="user-name" id="userName">å¼ å·¥ç¨‹å¸ˆ</div>
                        <div class="user-id">ID: RE2023001</div>
                    </div>
                </div>
                <button class="edit-profile-btn" onclick="openEditProfileModal()">ç¼–è¾‘èµ„æ–™</button>
                
                <!-- ç­‰çº§å’Œç§¯åˆ†ä¿¡æ¯ -->
                <div class="level-points-info">
                    <div class="level-info">
                        <div class="level-label">å½“å‰ç­‰çº§</div>
                        <div class="level-value" id="userLevel">ç†Ÿç»ƒå·¥ç¨‹å¸ˆ</div>
                    </div>
                    <div class="points-info">
                        <div class="points-label">å¯ç”¨ç§¯åˆ†</div>
                        <div class="points-value" id="userPoints">2,850</div>
                    </div>
                </div>
                
                <!-- ä»Šæ—¥æ”¶æ”¯ä¿¡æ¯ -->
                <div class="daily-stats">
                    <div class="daily-stat">
                        <div class="daily-stat-label">ä»Šæ—¥æ”¶å…¥</div>
                        <div class="daily-stat-value daily-income" id="dailyIncome">+50</div>
                    </div>
                    <div class="daily-stat">
                        <div class="daily-stat-label">ä»Šæ—¥æ”¯å‡º</div>
                        <div class="daily-stat-value daily-expense" id="dailyExpense">-10</div>
                    </div>
                </div>
                
                <!-- ç­‰çº§è¿›åº¦æ¡ -->
                <div class="level-progress">
                    <div class="level-progress-header">
                        <span>ç­‰çº§è¿›åº¦</span>
                        <span>65%</span>
                    </div>
                    <div class="level-progress-bar">
                        <div class="level-progress-fill" id="levelProgressFill"></div>
                    </div>
                    <div class="level-up-tip">è¿˜éœ€1350ç§¯åˆ†å‡çº§åˆ°"é«˜æ‰‹å·¥ç¨‹å¸ˆ"</div>
                </div>
                
                <!-- å®åè®¤è¯çŠ¶æ€ -->
                <div class="realname-status">
                    <div class="realname-text">å®åè®¤è¯çŠ¶æ€</div>
                    <div class="realname-badge" id="realnameBadge">å·²è®¤è¯</div>
                </div>
            </div>
            
            <!-- åŠŸèƒ½èœå•åŒºåŸŸ -->
            <div class="menu-section">
                <div class="menu-grid">
                    <div class="menu-item" onclick="openRechargeModal()">
                        <div class="menu-icon">ğŸ’°</div>
                        <div class="menu-text">å……å€¼ç§¯åˆ†</div>
                    </div>
                    <div class="menu-item" onclick="openCollectionPage()">
                        <div class="menu-icon">â­</div>
                        <div class="menu-text">æˆ‘çš„æ”¶è—</div>
                    </div>
                    <div class="menu-item" onclick="openFollowPage()">
                        <div class="menu-icon">ğŸ‘</div>
                        <div class="menu-text">æˆ‘çš„å…³æ³¨</div>
                    </div>
                </div>
                
                <!-- åŠŸèƒ½åˆ—è¡¨ -->
                <div class="function-list">
                    <div class="function-item" onclick="openSecuritySettings()">
                        <div class="function-icon">ğŸ”’</div>
                        <div class="function-info">
                            <div class="function-title">å®‰å…¨è®¾ç½®</div>
                            <div class="function-desc">ä¿®æ”¹å¯†ç ã€ç™»å½•æ–¹å¼ç®¡ç†</div>
                        </div>
                        <div class="function-arrow">â€º</div>
                    </div>
                    <div class="function-item" onclick="openRealnameAuth()">
                        <div class="function-icon">ğŸ†”</div>
                        <div class="function-info">
                            <div class="function-title">å®åè®¤è¯</div>
                            <div class="function-desc">è®¤è¯åå¯è·å¾—1000ç§¯åˆ†å¥–åŠ±</div>
                        </div>
                        <div class="function-arrow">â€º</div>
                    </div>
                    <div class="function-item" onclick="openTransactionHistory()">
                        <div class="function-icon">ğŸ“Š</div>
                        <div class="function-info">
                            <div class="function-title">äº¤æ˜“è®°å½•</div>
                            <div class="function-desc">æŸ¥çœ‹ç§¯åˆ†æ”¶å…¥å’Œæ”¯å‡ºè®°å½•</div>
                        </div>
                        <div class="function-arrow">â€º</div>
                    </div>
                    <div class="function-item" onclick="openPointsRules()">
                        <div class="function-icon">ğŸ“˜</div>
                        <div class="function-info">
                            <div class="function-title">ç§¯åˆ†è§„åˆ™</div>
                            <div class="function-desc">æŸ¥çœ‹ç§¯åˆ†è§„åˆ™å’Œè·å–æ–¹å¼</div>
                        </div>
                        <div class="function-arrow">â€º</div>
                    </div>
                    <div class="function-item" onclick="openLevelRules()">
                        <div class="function-icon">ğŸ“ˆ</div>
                        <div class="function-info">
                            <div class="function-title">ç­‰çº§è§„åˆ™</div>
                            <div class="function-desc">æŸ¥çœ‹ç­‰çº§è§„åˆ™å’Œæ™‹å‡æ¡ä»¶</div>
                        </div>
                        <div class="function-arrow">â€º</div>
                    </div>
                    <div class="function-item" onclick="openMyQuestions()">
                        <div class="function-icon">â“</div>
                        <div class="function-info">
                            <div class="function-title">æˆ‘çš„é—®ç­”</div>
                            <div class="function-desc">æŸ¥çœ‹æˆ‘å‘èµ·çš„æé—®å’Œå›ç­”</div>
                        </div>
                        <div class="function-arrow">â€º</div>
                    </div>
                </div>
                
                <!-- ä¸“å®¶é¢æ¿ -->
                <div class="expert-panel">
                    <div class="expert-panel-header">
                        <div class="expert-icon">ğŸ‘¨â€ğŸ”¬</div>
                        <div class="expert-panel-title">ä¸“å®¶è®¤è¯</div>
                        <div class="expert-badge" id="expertBadge">æ™®é€šç”¨æˆ·</div>
                    </div>
                    <div class="expert-info" id="expertInfo">
                        æ‚¨ç›®å‰æ˜¯æ™®é€šç”¨æˆ·ã€‚æˆä¸ºä¸“å®¶åå¯ä»¥è®¾ç½®å’¨è¯¢æ”¶è´¹ï¼Œè§£ç­”ä»–äººé—®é¢˜è·å¾—ç§¯åˆ†ï¼Œæå‡è¡Œä¸šå½±å“åŠ›ã€‚
                    </div>
                    <div class="expert-actions" id="expertActions">
                        <button class="expert-btn apply" onclick="openApplyExpertModal()">ç”³è¯·æˆä¸ºä¸“å®¶</button>
                        <button class="expert-btn settings" onclick="openExpertSettings()" style="display: none;">ä¸“å®¶è®¾ç½®</button>
                    </div>
                </div>
                
                <!-- åé¦ˆé¢æ¿ -->
                <div class="feedback-panel">
                    <div class="feedback-header">
                        <div class="feedback-icon">ğŸ’¡</div>
                        <div class="feedback-title">åé¦ˆå»ºè®®</div>
                    </div>
                    <div class="feedback-desc">
                        æˆ‘ä»¬é‡è§†æ¯ä¸€ä½ç”¨æˆ·çš„åé¦ˆï¼Œæ‚¨çš„å»ºè®®å°†å¸®åŠ©æˆ‘ä»¬ä¸æ–­ä¼˜åŒ–ç³»ç»Ÿï¼Œæä¾›æ›´å¥½çš„æœåŠ¡ã€‚
                    </div>
                    <button class="feedback-btn" onclick="openFeedbackModal()">æäº¤åé¦ˆå»ºè®®</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- åº•éƒ¨å¯¼èˆªæ  - ä¸index.htmlå®Œå…¨ä¸€è‡´ -->
    <div class="tab-bar">
        <div class="tab-item" onclick="goToIndex()">
            <div class="tab-icon home-icon">ğŸ </div>
            <div>é¦–é¡µ</div>
        </div>
        <div class="tab-item" onclick="goToResources()">
            <div class="tab-icon resources-icon">ğŸ“š</div>
            <div>èµ„æº</div>
        </div>
        <div class="tab-item" onclick="goToCommunity()">
            <div class="tab-icon community-icon">ğŸ‘¥</div>
            <div>ç¤¾åŒº</div>
        </div>
        <div class="tab-item active">
            <div class="tab-icon profile-icon">ğŸ‘¤</div>
            <div>æˆ‘çš„</div>
        </div>
    </div>
    
    <!-- ç¼–è¾‘èµ„æ–™æ¨¡æ€æ¡† -->
    <div class="modal-overlay" id="editProfileModal">
        <div class="modal-content">
            <div class="modal-title">ç¼–è¾‘ä¸ªäººèµ„æ–™</div>
            <div class="modal-input-group">
                <label class="modal-label">æ˜µç§°</label>
                <input type="text" class="modal-input" id="editNickname" value="å¼ å·¥ç¨‹å¸ˆ">
            </div>
            <div class="modal-input-group">
                <label class="modal-label">æ€§åˆ«</label>
                <select class="modal-select" id="editGender">
                    <option value="male">ç”·</option>
                    <option value="female" selected>å¥³</option>
                    <option value="other">å…¶ä»–</option>
                </select>
            </div>
            <div class="modal-input-group">
                <label class="modal-label">æ‰€åœ¨å•ä½</label>
                <input type="text" class="modal-input" id="editCompany" value="åä¸ºæŠ€æœ¯æœ‰é™å…¬å¸">
            </div>
            <div class="modal-input-group">
                <label class="modal-label">èŒåŠ¡</label>
                <input type="text" class="modal-input" id="editPosition" value="å¯é æ€§è®¾è®¡å·¥ç¨‹å¸ˆ">
            </div>
            <div class="modal-input-group">
                <label class="modal-label">åœ°åŒº</label>
                <input type="text" class="modal-input" id="editRegion" value="å¹¿ä¸œçœæ·±åœ³å¸‚">
            </div>
            <div class="modal-input-group">
                <label class="modal-label">è”ç³»ç”µè¯</label>
                <input type="tel" class="modal-input" id="editPhone" value="13800138000">
            </div>
            <div class="modal-input-group">
                <label class="modal-label">ç”µå­é‚®ç®±</label>
                <input type="email" class="modal-input" id="editEmail" value="zhang@huawei.com">
            </div>
            <div class="modal-actions">
                <button class="modal-btn cancel" onclick="closeEditProfileModal()">å–æ¶ˆ</button>
                <button class="modal-btn submit" onclick="saveProfile()">ä¿å­˜ä¿®æ”¹</button>
            </div>
        </div>
    </div>
    
    <!-- å……å€¼ç§¯åˆ†æ¨¡æ€æ¡† -->
    <div class="modal-overlay" id="rechargeModal">
        <div class="modal-content">
            <div class="modal-title">å……å€¼ç§¯åˆ†</div>
            <div class="modal-input-group">
                <label class="modal-label">é€‰æ‹©å……å€¼é‡‘é¢</label>
                <div class="points-options" id="pointsOptions">
                    <!-- å……å€¼é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            <div class="modal-input-group">
                <label class="modal-label">æ”¯ä»˜æ–¹å¼</label>
                <select class="modal-select" id="paymentMethod">
                    <option value="wechat">å¾®ä¿¡æ”¯ä»˜</option>
                    <option value="alipay">æ”¯ä»˜å®</option>
                    <option value="bank">é“¶è¡Œå¡</option>
                </select>
            </div>
            <div class="modal-actions">
                <button class="modal-btn cancel" onclick="closeRechargeModal()">å–æ¶ˆ</button>
                <button class="modal-btn submit" onclick="confirmRecharge()">ç«‹å³æ”¯ä»˜</button>
            </div>
        </div>
    </div>
    
    <!-- ç”³è¯·ä¸“å®¶æ¨¡æ€æ¡† -->
    <div class="modal-overlay" id="applyExpertModal">
        <div class="modal-content">
            <div class="modal-title">ç”³è¯·æˆä¸ºä¸“å®¶</div>
            <div class="modal-input-group">
                <label class="modal-label">ä¸“å®¶ä»‹ç»</label>
                <textarea class="modal-textarea" id="expertIntro" placeholder="è¯·ç®€è¦ä»‹ç»æ‚¨çš„ä¸“ä¸šèƒŒæ™¯ã€å·¥ä½œç»éªŒå’Œä¸“é•¿é¢†åŸŸ..."></textarea>
            </div>
            <div class="modal-input-group">
                <label class="modal-label">ä¸“é•¿é¢†åŸŸ (æœ€å¤šé€‰æ‹©3ä¸ª)</label>
                <select class="modal-select" id="expertField" multiple style="height: 100px;">
                    <option value="pcb">PCBè®¾è®¡ä¸å¯é æ€§</option>
                    <option value="thermal">çƒ­ç®¡ç†ä¸æ•£çƒ­è®¾è®¡</option>
                    <option value="failure">å¤±æ•ˆåˆ†æä¸æ•…éšœè¯Šæ–­</option>
                    <option value="environment">ç¯å¢ƒè¯•éªŒä¸å¯é æ€§æµ‹è¯•</option>
                    <option value="components">å…ƒå™¨ä»¶é€‰å‹ä¸åº”ç”¨</option>
                    <option value="fmea">FMEAä¸å¯é æ€§é¢„æµ‹</option>
                    <option value="emc">EMC/EMIè®¾è®¡</option>
                    <option value="signal">ä¿¡å·å®Œæ•´æ€§åˆ†æ</option>
                </select>
            </div>
            <div class="modal-input-group">
                <label class="modal-label">ç”³è¯·ç­‰çº§</label>
                <select class="modal-select" id="expertLevel">
                    <option value="bronze">åˆçº§ä¸“å®¶ (æ¶ˆè€—500ç§¯åˆ†)</option>
                    <option value="silver">ä¸­çº§ä¸“å®¶ (æ¶ˆè€—1000ç§¯åˆ†)</option>
                    <option value="gold">é«˜çº§ä¸“å®¶ (æ¶ˆè€—2000ç§¯åˆ†)</option>
                </select>
            </div>
            <div class="modal-input-group">
                <label class="modal-label">å’¨è¯¢æ”¶è´¹æ ‡å‡† (ç§¯åˆ†/30åˆ†é’Ÿ)</label>
                <input type="number" class="modal-input" id="consultPrice" value="100" min="50" max="500">
            </div>
            <div class="modal-actions">
                <button class="modal-btn cancel" onclick="closeApplyExpertModal()">å–æ¶ˆ</button>
                <button class="modal-btn submit" onclick="submitExpertApplication()">æäº¤ç”³è¯·</button>
            </div>
        </div>
    </div>
    
    <!-- åé¦ˆå»ºè®®æ¨¡æ€æ¡† -->
    <div class="modal-overlay" id="feedbackModal">
        <div class="modal-content">
            <div class="modal-title">åé¦ˆå»ºè®®</div>
            <div class="modal-input-group">
                <label class="modal-label">åé¦ˆç±»å‹</label>
                <select class="modal-select" id="feedbackType">
                    <option value="bug">ç³»ç»ŸBug</option>
                    <option value="suggestion">åŠŸèƒ½å»ºè®®</option>
                    <option value="content">å†…å®¹é—®é¢˜</option>
                    <option value="other">å…¶ä»–åé¦ˆ</option>
                </select>
            </div>
            <div class="modal-input-group">
                <label class="modal-label">åé¦ˆå†…å®¹</label>
                <textarea class="modal-textarea" id="feedbackContent" placeholder="è¯·è¯¦ç»†æè¿°æ‚¨é‡åˆ°çš„é—®é¢˜æˆ–å»ºè®®..."></textarea>
            </div>
            <div class="modal-input-group">
                <label class="modal-label">è”ç³»æ–¹å¼ (å¯é€‰)</label>
                <input type="text" class="modal-input" id="feedbackContact" placeholder="é‚®ç®±/ç”µè¯ï¼Œæ–¹ä¾¿æˆ‘ä»¬å›å¤æ‚¨">
            </div>
            <div class="modal-actions">
                <button class="modal-btn cancel" onclick="closeFeedbackModal()">å–æ¶ˆ</button>
                <button class="modal-btn submit" onclick="submitFeedback()">æäº¤åé¦ˆ</button>
            </div>
        </div>
    </div>
    
    <!-- å®‰å…¨è®¾ç½®æ¨¡æ€æ¡† -->
    <div class="modal-overlay" id="securityModal">
        <div class="modal-content">
            <div class="modal-title">å®‰å…¨è®¾ç½®</div>
            <div class="modal-input-group">
                <label class="modal-label">ä¿®æ”¹å¯†ç </label>
                <input type="password" class="modal-input" id="oldPassword" placeholder="è¯·è¾“å…¥æ—§å¯†ç ">
            </div>
            <div class="modal-input-group">
                <input type="password" class="modal-input" id="newPassword" placeholder="è¯·è¾“å…¥æ–°å¯†ç  (6-20ä½)">
            </div>
            <div class="modal-input-group">
                <input type="password" class="modal-input" id="confirmPassword" placeholder="è¯·ç¡®è®¤æ–°å¯†ç ">
            </div>
            <div class="modal-input-group">
                <label class="modal-label">ç™»å½•æ–¹å¼ç®¡ç†</label>
                <div style="display: flex; flex-direction: column; gap: 8px;">
                    <label style="display: flex; align-items: center;">
                        <input type="checkbox" id="loginPhone" checked> æ‰‹æœºå·ç™»å½•
                    </label>
                    <label style="display: flex; align-items: center;">
                        <input type="checkbox" id="loginEmail" checked> é‚®ç®±ç™»å½•
                    </label>
                    <label style="display: flex; align-items: center;">
                        <input type="checkbox" id="loginWechat" checked> å¾®ä¿¡ç™»å½•
                    </label>
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-btn cancel" onclick="closeSecurityModal()">å–æ¶ˆ</button>
                <button class="modal-btn submit" onclick="saveSecuritySettings()">ä¿å­˜è®¾ç½®</button>
            </div>
        </div>
    </div>
    
    <!-- äº¤æ˜“è®°å½•æ¨¡æ€æ¡† -->
    <div class="modal-overlay" id="transactionHistoryModal">
        <div class="modal-content">
            <div class="modal-title">äº¤æ˜“è®°å½•</div>
            <div id="transactionsList" style="max-height: 400px; overflow-y: auto;">
                <!-- äº¤æ˜“è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            <div class="modal-actions">
                <button class="modal-btn submit" onclick="closeTransactionHistoryModal()">ç¡®å®š</button>
            </div>
        </div>
    </div>
    
    <!-- ç§¯åˆ†è§„åˆ™æ¨¡æ€æ¡† -->
    <div class="modal-overlay" id="pointsRulesModal">
        <div class="modal-content">
            <div class="modal-title">ç§¯åˆ†è§„åˆ™</div>
            <div style="max-height: 400px; overflow-y: auto;">
                <div style="margin-bottom: 16px;">
                    <h4 style="color: #1a3a8f; margin-bottom: 8px;">ç§¯åˆ†è·å–æ–¹å¼</h4>
                    <ul style="color: #666; font-size: 14px; line-height: 1.6; padding-left: 20px;">
                        <li style="margin-bottom: 6px;">åˆå§‹æ³¨å†Œï¼š1000ç§¯åˆ†</li>
                        <li style="margin-bottom: 6px;">å®åè®¤è¯ï¼š+1000ç§¯åˆ†</li>
                        <li style="margin-bottom: 6px;">æ¯æ—¥ç™»å½•ï¼š+10ç§¯åˆ†</li>
                        <li style="margin-bottom: 6px;">åˆ†äº«èµ„æºï¼š+50ç§¯åˆ†/æ¬¡ï¼ˆå®¡æ ¸é€šè¿‡ï¼‰</li>
                        <li style="margin-bottom: 6px;">è§£ç­”é—®é¢˜ï¼š+20-100ç§¯åˆ†/æ¬¡ï¼ˆæ ¹æ®è´¨é‡ï¼‰</li>
                        <li style="margin-bottom: 6px;">èµ„æºè¢«æ”¶è—ï¼š+10ç§¯åˆ†/æ¬¡</li>
                        <li style="margin-bottom: 6px;">å……å€¼ç§¯åˆ†ï¼šæŒ‰å……å€¼é‡‘é¢æ¯”ä¾‹è·å–</li>
                    </ul>
                </div>
                <div style="margin-bottom: 16px;">
                    <h4 style="color: #1a3a8f; margin-bottom: 8px;">ç§¯åˆ†ä½¿ç”¨è§„åˆ™</h4>
                    <ul style="color: #666; font-size: 14px; line-height: 1.6; padding-left: 20px;">
                        <li style="margin-bottom: 6px;">ä¸‹è½½èµ„æºï¼šæ ¹æ®èµ„æºå®šä»·æ‰£é™¤ç§¯åˆ†</li>
                        <li style="margin-bottom: 6px;">ä¸“å®¶å’¨è¯¢ï¼šæ ¹æ®ä¸“å®¶æ”¶è´¹æ ‡å‡†æ‰£é™¤ç§¯åˆ†</li>
                        <li style="margin-bottom: 6px;">ç§¯åˆ†æœ‰æ•ˆæœŸä¸ºæ°¸ä¹…ï¼Œè´¦å·æ³¨é”€åæ¸…é›¶</li>
                        <li style="margin-bottom: 6px;">å……å€¼ç§¯åˆ†ä¸å¯é€€æ¬¾ï¼Œè¯·æ ¹æ®éœ€æ±‚åˆç†å……å€¼</li>
                    </ul>
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-btn submit" onclick="closePointsRulesModal()">ç¡®å®š</button>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let userData = {};
        let isExpert = false;
        let todayIncome = 50;
        let todayExpense = 10;
        let transactions = [];
        
        // ç­‰çº§è§„åˆ™å®šä¹‰
        const levelRules = [
            { level: 1, name: "æ–°å…µ", minPoints: 0, maxPoints: 100 },
            { level: 2, name: "èœé¸Ÿ", minPoints: 101, maxPoints: 500 },
            { level: 3, name: "å…¥é—¨", minPoints: 501, maxPoints: 1000 },
            { level: 4, name: "ç†Ÿç»ƒ", minPoints: 1001, maxPoints: 3000 },
            { level: 5, name: "é«˜æ‰‹", minPoints: 3001, maxPoints: 6000 },
            { level: 6, name: "ä¸“å®¶", minPoints: 6001, maxPoints: 10000 },
            { level: 7, name: "å¤§å¸ˆ", minPoints: 10001, maxPoints: 20000 },
            { level: 8, name: "å®—å¸ˆ", minPoints: 20001, maxPoints: 50000 },
            { level: 9, name: "ä¼ è¯´", minPoints: 50001, maxPoints: 999999 }
        ];
        
        // åˆ›å»ºç§‘æŠ€æ„Ÿè£…é¥°å…ƒç´ 
        function createTechDecoration() {
            const decoration = document.getElementById('techDecoration');
            const dotsCount = 30;
            
            for (let i = 0; i < dotsCount; i++) {
                const dot = document.createElement('div');
                dot.className = 'tech-dot';
                
                // éšæœºä½ç½®
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                const size = 2 + Math.random() * 4;
                const opacity = 0.1 + Math.random() * 0.2;
                
                dot.style.left = `${left}%`;
                dot.style.top = `${top}%`;
                dot.style.width = `${size}px`;
                dot.style.height = `${size}px`;
                dot.style.opacity = opacity;
                dot.style.background = `rgba(${24 + Math.random() * 100}, ${144 + Math.random() * 50}, 255, ${opacity})`;
                
                decoration.appendChild(dot);
            }
        }
        

        
        function goToIndex() {
            window.location.href = "index.html";
        }
        
        function goToResources() {
            window.location.href = "knowledge.html";
        }
        
        function goToCommunity() {
            window.location.href = "community.html";
        }
        
        function openCollectionPage() {
            window.location.href = "favorites.html";
        }
        
        function openFollowPage() {
            window.location.href = "subscribe.html";
        }
        
        // åˆå§‹åŒ–ç”¨æˆ·æ•°æ®
        function initUserData() {
            // ä»æœ¬åœ°å­˜å‚¨åŠ è½½ç”¨æˆ·æ•°æ®
            const savedUserData = localStorage.getItem('reliability_user');
            if (savedUserData) {
                userData = JSON.parse(savedUserData);
            } else {
                // é»˜è®¤ç”¨æˆ·æ•°æ®
                userData = {
                    id: "RE2023001",
                    nickname: "å¼ å·¥ç¨‹å¸ˆ",
                    gender: "female",
                    company: "åä¸ºæŠ€æœ¯æœ‰é™å…¬å¸",
                    position: "å¯é æ€§è®¾è®¡å·¥ç¨‹å¸ˆ",
                    region: "å¹¿ä¸œçœæ·±åœ³å¸‚",
                    phone: "13800138000",
                    email: "zhang@huawei.com",
                    points: 2850,
                    level: 4,
                    realnameVerified: true,
                    isExpert: false,
                    expertLevel: null,
                    expertFields: [],
                    consultPrice: 0
                };
                
                localStorage.setItem('reliability_user', JSON.stringify(userData));
            }
            
            isExpert = userData.isExpert;
            
            // åˆå§‹åŒ–äº¤æ˜“è®°å½•
            initTransactions();
            
            // æ›´æ–°é¡µé¢æ˜¾ç¤º
            updateUserDisplay();
            
            // åˆå§‹åŒ–å……å€¼é€‰é¡¹
            initRechargeOptions();
        }
        
        // åˆå§‹åŒ–äº¤æ˜“è®°å½•
        function initTransactions() {
            // ä»æœ¬åœ°å­˜å‚¨åŠ è½½äº¤æ˜“è®°å½•
            const savedTransactions = localStorage.getItem('wallet_transactions');
            if (savedTransactions) {
                transactions = JSON.parse(savedTransactions);
            } else {
                // é»˜è®¤äº¤æ˜“è®°å½•
                transactions = [
                    {
                        id: 1,
                        title: "èµ„æºä¸‹è½½",
                        description: "ä¸‹è½½ã€ŠIPC-A-610Hæ ‡å‡†ã€‹",
                        amount: -10,
                        type: "expense",
                        time: "ä»Šå¤© 10:30",
                        icon: "ğŸ“„"
                    },
                    {
                        id: 2,
                        title: "ä»»åŠ¡å¥–åŠ±",
                        description: "å®Œæˆæ¯æ—¥ç™»å½•ä»»åŠ¡",
                        amount: 10,
                        type: "income",
                        time: "ä»Šå¤© 09:15",
                        icon: "ğŸ”‘"
                    },
                    {
                        id: 3,
                        title: "èµ„æºä¸‹è½½",
                        description: "ä¸‹è½½ã€Šçƒ­è®¾è®¡æŒ‡å—ã€‹",
                        amount: -20,
                        type: "expense",
                        time: "æ˜¨å¤© 14:20",
                        icon: "ğŸ”¥"
                    },
                    {
                        id: 4,
                        title: "å›ç­”é—®é¢˜",
                        description: "å›ç­”PCBè®¾è®¡é—®é¢˜",
                        amount: 30,
                        type: "income",
                        time: "æ˜¨å¤© 11:45",
                        icon: "ğŸ’¬"
                    },
                    {
                        id: 5,
                        title: "å……å€¼ç§¯åˆ†",
                        description: "å¾®ä¿¡å……å€¼",
                        amount: 500,
                        type: "income",
                        time: "å‰å¤© 16:30",
                        icon: "ğŸ’°"
                    }
                ];
                
                localStorage.setItem('wallet_transactions', JSON.stringify(transactions));
            }
        }
        
        // æ›´æ–°ç”¨æˆ·æ˜¾ç¤º
        function updateUserDisplay() {
            // æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
            document.getElementById('userAvatar').textContent = userData.nickname.substring(0, 1);
            document.getElementById('userName').textContent = userData.nickname;
            
            // æ›´æ–°ç§¯åˆ†æ˜¾ç¤º
            document.getElementById('userPoints').textContent = userData.points.toLocaleString();
            
            // æ›´æ–°ä»Šæ—¥æ”¶æ”¯æ˜¾ç¤º
            document.getElementById('dailyIncome').textContent = `+${todayIncome}`;
            document.getElementById('dailyExpense').textContent = `-${todayExpense}`;
            
            // æ›´æ–°ç­‰çº§æ˜¾ç¤º
            const levelInfo = getLevelInfo(userData.points);
            document.getElementById('userLevel').textContent = levelInfo.name;
            
            // æ›´æ–°è¿›åº¦æ¡
            const progressPercentage = ((userData.points - levelInfo.minPoints) / (levelInfo.maxPoints - levelInfo.minPoints)) * 100;
            document.getElementById('levelProgressFill').style.width = `${progressPercentage}%`;
            
            // æ›´æ–°å®åè®¤è¯çŠ¶æ€
            const realnameBadge = document.getElementById('realnameBadge');
            if (userData.realnameVerified) {
                realnameBadge.textContent = "å·²è®¤è¯";
                realnameBadge.className = "realname-badge";
            } else {
                realnameBadge.textContent = "æœªè®¤è¯";
                realnameBadge.className = "realname-badge realname-unverified";
            }
            
            // æ›´æ–°ä¸“å®¶ä¿¡æ¯
            updateExpertDisplay();
        }
        
        // è·å–ç­‰çº§ä¿¡æ¯
        function getLevelInfo(points) {
            for (let i = 0; i < levelRules.length; i++) {
                if (points >= levelRules[i].minPoints && points <= levelRules[i].maxPoints) {
                    return {
                        level: levelRules[i].level,
                        name: levelRules[i].name,
                        minPoints: levelRules[i].minPoints,
                        maxPoints: levelRules[i].maxPoints
                    };
                }
            }
            return levelRules[levelRules.length - 1];
        }
        
        // æ›´æ–°ä¸“å®¶æ˜¾ç¤º
        function updateExpertDisplay() {
            const expertBadge = document.getElementById('expertBadge');
            const expertInfo = document.getElementById('expertInfo');
            const expertActions = document.getElementById('expertActions');
            const applyBtn = expertActions.querySelector('.apply');
            const settingsBtn = expertActions.querySelector('.settings');
            
            if (userData.isExpert) {
                // ä¸“å®¶ç”¨æˆ·
                let expertLevelText = "";
                switch(userData.expertLevel) {
                    case "bronze": expertLevelText = "åˆçº§ä¸“å®¶"; break;
                    case "silver": expertLevelText = "ä¸­çº§ä¸“å®¶"; break;
                    case "gold": expertLevelText = "é«˜çº§ä¸“å®¶"; break;
                }
                
                expertBadge.textContent = expertLevelText;
                expertBadge.style.background = userData.expertLevel === "gold" ? "#ffa940" : 
                                             (userData.expertLevel === "silver" ? "#d9d9d9" : "#d46b08");
                
                expertInfo.textContent = `æ‚¨æ˜¯${expertLevelText}ï¼Œä¸“é•¿é¢†åŸŸï¼š${userData.expertFields.join('ã€')}ã€‚å’¨è¯¢æ”¶è´¹ï¼š${userData.consultPrice}ç§¯åˆ†/30åˆ†é’Ÿã€‚`;
                
                applyBtn.style.display = "none";
                settingsBtn.style.display = "block";
            } else {
                // æ™®é€šç”¨æˆ·
                expertBadge.textContent = "æ™®é€šç”¨æˆ·";
                expertBadge.style.background = "#d9d9d9";
                
                expertInfo.textContent = "æ‚¨ç›®å‰æ˜¯æ™®é€šç”¨æˆ·ã€‚æˆä¸ºä¸“å®¶åå¯ä»¥è®¾ç½®å’¨è¯¢æ”¶è´¹ï¼Œè§£ç­”ä»–äººé—®é¢˜è·å¾—ç§¯åˆ†ï¼Œæå‡è¡Œä¸šå½±å“åŠ›ã€‚";
                
                applyBtn.style.display = "block";
                settingsBtn.style.display = "none";
            }
        }
        
        // åˆå§‹åŒ–å……å€¼é€‰é¡¹
        function initRechargeOptions() {
            const pointsOptions = [
                { amount: 100, price: 10, bonus: 0 },
                { amount: 500, price: 48, bonus: 20 },
                { amount: 1000, price: 88, bonus: 50 },
                { amount: 2000, price: 168, bonus: 120 },
                { amount: 5000, price: 388, bonus: 350 },
                { amount: 10000, price: 688, bonus: 800 }
            ];
            
            const container = document.getElementById('pointsOptions');
            container.innerHTML = '';
            
            pointsOptions.forEach(option => {
                const optionEl = document.createElement('div');
                optionEl.className = 'points-option';
                optionEl.onclick = () => selectRechargeOption(optionEl, option.amount);
                
                optionEl.innerHTML = `
                    <div class="points-amount">${option.amount}ç§¯åˆ†</div>
                    <div class="points-price">Â¥${option.price}</div>
                    ${option.bonus > 0 ? `<div class="points-bonus">èµ é€${option.bonus}ç§¯åˆ†</div>` : ''}
                `;
                
                container.appendChild(optionEl);
            });
        }
        
        // é€‰æ‹©å……å€¼é€‰é¡¹
        function selectRechargeOption(element, amount) {
            // ç§»é™¤æ‰€æœ‰é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.points-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // è®¾ç½®å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­çŠ¶æ€
            element.classList.add('selected');
            
            // ä¿å­˜é€‰ä¸­çš„å……å€¼é‡‘é¢
            window.selectedRechargeAmount = amount;
        }
        
        // æ‰“å¼€ç¼–è¾‘èµ„æ–™æ¨¡æ€æ¡†
        function openEditProfileModal() {
            document.getElementById('editProfileModal').style.display = 'flex';
            
            // å¡«å……å½“å‰æ•°æ®
            document.getElementById('editNickname').value = userData.nickname;
            document.getElementById('editGender').value = userData.gender;
            document.getElementById('editCompany').value = userData.company;
            document.getElementById('editPosition').value = userData.position;
            document.getElementById('editRegion').value = userData.region;
            document.getElementById('editPhone').value = userData.phone;
            document.getElementById('editEmail').value = userData.email;
        }
        
        // å…³é—­ç¼–è¾‘èµ„æ–™æ¨¡æ€æ¡†
        function closeEditProfileModal() {
            document.getElementById('editProfileModal').style.display = 'none';
        }
        
        // ä¿å­˜ä¸ªäººèµ„æ–™
        function saveProfile() {
            // è·å–è¡¨å•æ•°æ®
            userData.nickname = document.getElementById('editNickname').value;
            userData.gender = document.getElementById('editGender').value;
            userData.company = document.getElementById('editCompany').value;
            userData.position = document.getElementById('editPosition').value;
            userData.region = document.getElementById('editRegion').value;
            userData.phone = document.getElementById('editPhone').value;
            userData.email = document.getElementById('editEmail').value;
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('reliability_user', JSON.stringify(userData));
            
            // æ›´æ–°æ˜¾ç¤º
            updateUserDisplay();
            
            // å…³é—­æ¨¡æ€æ¡†
            closeEditProfileModal();
            
            alert('ä¸ªäººèµ„æ–™å·²ä¿å­˜ï¼');
        }
        
        // æ‰“å¼€å……å€¼ç§¯åˆ†æ¨¡æ€æ¡†
        function openRechargeModal() {
            document.getElementById('rechargeModal').style.display = 'flex';
        }
        
        // å…³é—­å……å€¼ç§¯åˆ†æ¨¡æ€æ¡†
        function closeRechargeModal() {
            document.getElementById('rechargeModal').style.display = 'none';
        }
        
        // ç¡®è®¤å……å€¼
        function confirmRecharge() {
            const amount = window.selectedRechargeAmount;
            const paymentMethod = document.getElementById('paymentMethod').value;
            
            if (!amount) {
                alert('è¯·é€‰æ‹©å……å€¼é‡‘é¢');
                return;
            }
            
            // è®¡ç®—å®é™…è·å¾—çš„ç§¯åˆ†ï¼ˆåŒ…æ‹¬èµ é€ï¼‰
            let actualAmount = amount;
            if (amount === 500) actualAmount = 520;
            else if (amount === 1000) actualAmount = 1050;
            else if (amount === 2000) actualAmount = 2120;
            else if (amount === 5000) actualAmount = 5350;
            else if (amount === 10000) actualAmount = 10800;
            
            // æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸ
            alert(`æ”¯ä»˜æˆåŠŸï¼\n\nå……å€¼é‡‘é¢ï¼š${amount}ç§¯åˆ†\nå®é™…åˆ°è´¦ï¼š${actualAmount}ç§¯åˆ†\næ”¯ä»˜æ–¹å¼ï¼š${getPaymentMethodName(paymentMethod)}\n\nç§¯åˆ†å·²æ·»åŠ åˆ°æ‚¨çš„è´¦æˆ·ã€‚`);
            
            // æ›´æ–°ç”¨æˆ·ç§¯åˆ†
            userData.points += actualAmount;
            todayIncome += actualAmount;
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('reliability_user', JSON.stringify(userData));
            
            // æ·»åŠ äº¤æ˜“è®°å½•
            const newTransaction = {
                id: Date.now(),
                title: "å……å€¼ç§¯åˆ†",
                description: `${getPaymentMethodName(paymentMethod)}å……å€¼`,
                amount: actualAmount,
                type: "income",
                time: "åˆšåˆš",
                icon: "ğŸ’°"
            };
            
            transactions.unshift(newTransaction);
            localStorage.setItem('wallet_transactions', JSON.stringify(transactions));
            
            // æ›´æ–°æ˜¾ç¤º
            updateUserDisplay();
            
            // å…³é—­æ¨¡æ€æ¡†
            closeRechargeModal();
        }
        
        // è·å–æ”¯ä»˜æ–¹å¼åç§°
        function getPaymentMethodName(method) {
            switch(method) {
                case 'wechat': return 'å¾®ä¿¡æ”¯ä»˜';
                case 'alipay': return 'æ”¯ä»˜å®';
                case 'bank': return 'é“¶è¡Œå¡';
                default: return 'æœªçŸ¥æ”¯ä»˜æ–¹å¼';
            }
        }
        
        // æ‰“å¼€ç”³è¯·ä¸“å®¶æ¨¡æ€æ¡†
        function openApplyExpertModal() {
            document.getElementById('applyExpertModal').style.display = 'flex';
        }
        
        // å…³é—­ç”³è¯·ä¸“å®¶æ¨¡æ€æ¡†
        function closeApplyExpertModal() {
            document.getElementById('applyExpertModal').style.display = 'none';
        }
        
        // æäº¤ä¸“å®¶ç”³è¯·
        function submitExpertApplication() {
            const intro = document.getElementById('expertIntro').value;
            const level = document.getElementById('expertLevel').value;
            const price = parseInt(document.getElementById('consultPrice').value);
            
            if (!intro.trim()) {
                alert('è¯·å¡«å†™ä¸“å®¶ä»‹ç»');
                return;
            }
            
            // æ£€æŸ¥ç§¯åˆ†æ˜¯å¦è¶³å¤Ÿ
            let costPoints = 0;
            switch(level) {
                case 'bronze': costPoints = 500; break;
                case 'silver': costPoints = 1000; break;
                case 'gold': costPoints = 2000; break;
            }
            
            if (userData.points < costPoints) {
                alert(`ç§¯åˆ†ä¸è¶³ï¼ç”³è¯·${level === 'bronze' ? 'åˆçº§' : level === 'silver' ? 'ä¸­çº§' : 'é«˜çº§'}ä¸“å®¶éœ€è¦${costPoints}ç§¯åˆ†ï¼Œæ‚¨å½“å‰åªæœ‰${userData.points}ç§¯åˆ†ã€‚`);
                return;
            }
            
            // æ¨¡æ‹Ÿç”³è¯·æäº¤
            alert(`ä¸“å®¶ç”³è¯·å·²æäº¤ï¼\n\nç”³è¯·ç­‰çº§ï¼š${level === 'bronze' ? 'åˆçº§ä¸“å®¶' : level === 'silver' ? 'ä¸­çº§ä¸“å®¶' : 'é«˜çº§ä¸“å®¶'}\næ¶ˆè€—ç§¯åˆ†ï¼š${costPoints}\nå’¨è¯¢æ”¶è´¹ï¼š${price}ç§¯åˆ†/30åˆ†é’Ÿ\n\nç”³è¯·å°†åœ¨1-3ä¸ªå·¥ä½œæ—¥å†…å®¡æ ¸ï¼Œå®¡æ ¸é€šè¿‡åæ‚¨å°†è·å¾—ä¸“å®¶èº«ä»½ã€‚`);
            
            // æ‰£é™¤ç§¯åˆ†
            userData.points -= costPoints;
            todayExpense += costPoints;
            
            // æ·»åŠ äº¤æ˜“è®°å½•
            const newTransaction = {
                id: Date.now(),
                title: "ç”³è¯·ä¸“å®¶",
                description: `ç”³è¯·${level === 'bronze' ? 'åˆçº§' : level === 'silver' ? 'ä¸­çº§' : 'é«˜çº§'}ä¸“å®¶`,
                amount: -costPoints,
                type: "expense",
                time: "åˆšåˆš",
                icon: "ğŸ‘¨â€ğŸ”¬"
            };
            
            transactions.unshift(newTransaction);
            localStorage.setItem('wallet_transactions', JSON.stringify(transactions));
            
            // è®¾ç½®ä¸“å®¶ä¿¡æ¯ï¼ˆæ¨¡æ‹Ÿå®¡æ ¸é€šè¿‡ï¼‰
            userData.isExpert = true;
            userData.expertLevel = level;
            userData.expertFields = ['PCBè®¾è®¡ä¸å¯é æ€§', 'çƒ­ç®¡ç†ä¸æ•£çƒ­è®¾è®¡']; // æ¨¡æ‹Ÿä¸“é•¿é¢†åŸŸ
            userData.consultPrice = price;
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('reliability_user', JSON.stringify(userData));
            
            // æ›´æ–°æ˜¾ç¤º
            updateUserDisplay();
            
            // å…³é—­æ¨¡æ€æ¡†
            closeApplyExpertModal();
        }
        
        // æ‰“å¼€ä¸“å®¶è®¾ç½®
        function openExpertSettings() {
            alert('åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šæ‰“å¼€ä¸“å®¶è®¾ç½®é¡µé¢ï¼Œå¯ä»¥ä¿®æ”¹å’¨è¯¢æ”¶è´¹ã€ä¸“é•¿é¢†åŸŸç­‰è®¾ç½®ã€‚');
        }
        
        // æ‰“å¼€åé¦ˆå»ºè®®æ¨¡æ€æ¡†
        function openFeedbackModal() {
            document.getElementById('feedbackModal').style.display = 'flex';
        }
        
        // å…³é—­åé¦ˆå»ºè®®æ¨¡æ€æ¡†
        function closeFeedbackModal() {
            document.getElementById('feedbackModal').style.display = 'none';
        }
        
        // æäº¤åé¦ˆ
        function submitFeedback() {
            const type = document.getElementById('feedbackType').value;
            const content = document.getElementById('feedbackContent').value;
            const contact = document.getElementById('feedbackContact').value;
            
            if (!content.trim()) {
                alert('è¯·å¡«å†™åé¦ˆå†…å®¹');
                return;
            }
            
            // æ¨¡æ‹Ÿæäº¤æˆåŠŸ
            alert(`åé¦ˆæäº¤æˆåŠŸï¼\n\næ„Ÿè°¢æ‚¨çš„åé¦ˆï¼Œæˆ‘ä»¬å°†è®¤çœŸè€ƒè™‘æ‚¨çš„å»ºè®®å¹¶ä¸æ–­ä¼˜åŒ–ç³»ç»Ÿã€‚\n${contact ? `æˆ‘ä»¬ä¼šé€šè¿‡${contact}ä¸æ‚¨è”ç³»ã€‚` : ''}`);
            
            // å…³é—­æ¨¡æ€æ¡†
            closeFeedbackModal();
            
            // æ¸…ç©ºè¡¨å•
            document.getElementById('feedbackContent').value = '';
            document.getElementById('feedbackContact').value = '';
        }
        
        // æ‰“å¼€å®‰å…¨è®¾ç½®æ¨¡æ€æ¡†
        function openSecuritySettings() {
            document.getElementById('securityModal').style.display = 'flex';
        }
        
        // å…³é—­å®‰å…¨è®¾ç½®æ¨¡æ€æ¡†
        function closeSecurityModal() {
            document.getElementById('securityModal').style.display = 'none';
        }
        
        // ä¿å­˜å®‰å…¨è®¾ç½®
        function saveSecuritySettings() {
            const oldPassword = document.getElementById('oldPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            // æ£€æŸ¥å¯†ç æ˜¯å¦åŒ¹é…
            if (newPassword !== confirmPassword) {
                alert('ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´');
                return;
            }
            
            // æ£€æŸ¥å¯†ç é•¿åº¦
            if (newPassword && (newPassword.length < 6 || newPassword.length > 20)) {
                alert('æ–°å¯†ç é•¿åº¦å¿…é¡»åœ¨6-20ä½ä¹‹é—´');
                return;
            }
            
            // æ¨¡æ‹Ÿä¿å­˜æˆåŠŸ
            alert('å®‰å…¨è®¾ç½®å·²ä¿å­˜ï¼');
            
            // å…³é—­æ¨¡æ€æ¡†
            closeSecurityModal();
            
            // æ¸…ç©ºè¡¨å•
            document.getElementById('oldPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
        }
        
        // æ‰“å¼€å®åè®¤è¯
        function openRealnameAuth() {
            if (userData.realnameVerified) {
                alert('æ‚¨å·²å®Œæˆå®åè®¤è¯ï¼');
            } else {
                const confirmAuth = confirm('è¿›è¡Œå®åè®¤è¯å¯è·å¾—1000ç§¯åˆ†å¥–åŠ±ï¼\n\nè®¤è¯éœ€è¦æä¾›çœŸå®å§“åå’Œèº«ä»½è¯å·ï¼Œä¿¡æ¯å°†ä¸¥æ ¼ä¿å¯†ã€‚\næ˜¯å¦ç°åœ¨è¿›è¡Œå®åè®¤è¯ï¼Ÿ');
                
                if (confirmAuth) {
                    // æ¨¡æ‹Ÿè®¤è¯æˆåŠŸ
                    alert('å®åè®¤è¯æˆåŠŸï¼\n\næ‚¨å·²è·å¾—1000ç§¯åˆ†å¥–åŠ±ã€‚');
                    
                    // æ›´æ–°ç”¨æˆ·æ•°æ®
                    userData.realnameVerified = true;
                    userData.points += 1000;
                    todayIncome += 1000;
                    
                    // æ·»åŠ äº¤æ˜“è®°å½•
                    const newTransaction = {
                        id: Date.now(),
                        title: "å®åè®¤è¯",
                        description: "å®Œæˆå®åè®¤è¯å¥–åŠ±",
                        amount: 1000,
                        type: "income",
                        time: "åˆšåˆš",
                        icon: "ğŸ†”"
                    };
                    
                    transactions.unshift(newTransaction);
                    localStorage.setItem('wallet_transactions', JSON.stringify(transactions));
                    
                    // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
                    localStorage.setItem('reliability_user', JSON.stringify(userData));
                    
                    // æ›´æ–°æ˜¾ç¤º
                    updateUserDisplay();
                }
            }
        }
        
        // æ‰“å¼€äº¤æ˜“è®°å½•
        function openTransactionHistory() {
            const container = document.getElementById('transactionsList');
            container.innerHTML = '';
            
            if (transactions.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px 20px; color: #999;">æš‚æ— äº¤æ˜“è®°å½•</div>';
            } else {
                transactions.forEach(transaction => {
                    const transactionEl = document.createElement('div');
                    transactionEl.className = `transaction-item transaction-${transaction.type}`;
                    
                    transactionEl.innerHTML = `
                        <div class="transaction-icon">${transaction.icon}</div>
                        <div class="transaction-info">
                            <div class="transaction-title">${transaction.title}</div>
                            <div class="transaction-time">${transaction.time}</div>
                        </div>
                        <div class="transaction-amount">
                            ${transaction.type === 'income' ? '+' : ''}${transaction.amount}
                        </div>
                    `;
                    
                    container.appendChild(transactionEl);
                });
            }
            
            document.getElementById('transactionHistoryModal').style.display = 'flex';
        }
        
        // å…³é—­äº¤æ˜“è®°å½•æ¨¡æ€æ¡†
        function closeTransactionHistoryModal() {
            document.getElementById('transactionHistoryModal').style.display = 'none';
        }
        
        // æ‰“å¼€ç§¯åˆ†è§„åˆ™
        function openPointsRules() {
            document.getElementById('pointsRulesModal').style.display = 'flex';
        }
        
        // å…³é—­ç§¯åˆ†è§„åˆ™æ¨¡æ€æ¡†
        function closePointsRulesModal() {
            document.getElementById('pointsRulesModal').style.display = 'none';
        }
        
        // æ‰“å¼€ç­‰çº§è§„åˆ™
        function openLevelRules() {
            let rulesText = "ç­‰çº§è§„åˆ™ï¼š\n\n";
            levelRules.forEach(rule => {
                rulesText += `${rule.level}. ${rule.name}: ${rule.minPoints} - ${rule.maxPoints}ç§¯åˆ†\n`;
            });
            
            alert(rulesText);
        }
        
        // æ‰“å¼€æˆ‘çš„é—®ç­”
        function openMyQuestions() {
            alert('åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šè·³è½¬åˆ°æˆ‘çš„é—®ç­”é¡µé¢ï¼Œå±•ç¤ºæˆ‘å‘èµ·å’Œå›ç­”çš„é—®é¢˜ã€‚');
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = function() {
            // åˆ›å»ºç§‘æŠ€æ„Ÿè£…é¥°å…ƒç´ 
            createTechDecoration();
            
            // åˆå§‹åŒ–ç”¨æˆ·æ•°æ®
            initUserData();
            
            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            const modals = [
                'editProfileModal', 'rechargeModal', 'applyExpertModal', 
                'feedbackModal', 'securityModal', 'transactionHistoryModal',
                'pointsRulesModal'
            ];
            
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.addEventListener('click', function(e) {
                        if (e.target === this) {
                            this.style.display = 'none';
                        }
                    });
                }
            });
        };
    </script>
</body>
</html>